# D2R Multiplay 开发手记（AI 伴侣专用）

> 简明纲要：我们是在打磨一件手工艺品，不是在修摩天大楼。保持克制，保持真实。

---

## 🏗️ 建筑哲学

1.  **性能克制**：不要高频率骚扰系统。
    - **核心**：必须在 Tauri State 缓存 `System` 实例。
    - **铁律**：进程刷新只用 `ProcessRefreshKind::nothing()`，按需精细化。
2.  **边界感**：
    - `win32_safe/`：只放最原始、最纯净的 Windows API。
    - `account.rs`：这里是业务的剧场，别去碰底层的螺丝钉。
3.  **仪式感（启动流）**：清理 -> 备份 -> 清空 -> 恢复 -> 启动。顺序不可错位，这是对数据的敬畏。

## ✍️ 代码美学

- **Rust**：多用 `tracing` 记录心跳。错误处理要优雅，直接给前端抛字符串。
- **React**：保持组件的小而美。

## ⚠️ 避坑锦囊

- **别装**：不要过度封装不到 20 行的薄层，那只是在浪费生命。
- **别漏**：遗漏 State 注入会让性能瞬间掉入深渊。
- **别猜**：逻辑不明时，先问老板，别替老板做决定。

---

**存档证明**：vii & Mimi 联合打磨。

